#
# Generated by Chef
#

<VirtualHost *:<%= node[:graylog2][:web_interface][:listen_port] %>> 
  ServerName <%= node[:graylog2][:server_name] %>
  DocumentRoot <%= node[:graylog2][:basedir] %>/web/public
  <Directory <%= node[:graylog2][:basedir] %>/web/public>
    Allow from all
    Options -MultiViews
  </Directory>
  ErrorLog /var/log/apache2/error.log
  LogLevel warn
  CustomLog /var/log/apache2/access.log combined

  LoadModule passenger_module /opt/rbenv/versions/<%= node[:graylog2][:ruby_version] %>/lib/ruby/gems/1.9.1/gems/passenger-<%= node[:graylog2][:passenger_version] %>/libout/apache2/mod_passenger.so
  PassengerRoot /opt/rbenv/versions/<%= node[:graylog2][:ruby_version] %>/lib/ruby/gems/1.9.1/gems/passenger-<%= node[:graylog2][:passenger_version] %>
  PassengerDefaultRuby /opt/rbenv/versions/<%= node[:graylog2][:ruby_version] %>/bin/ruby
  SetEnv GEM_PATH <%= node[:graylog2][:basedir] %>/web/vendor/bundle/ruby/1.9.1/gems/
</VirtualHost>